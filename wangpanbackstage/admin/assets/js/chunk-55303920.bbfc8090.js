(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-55303920"],{4396:function(e,t,i){"use strict";i.r(t);var s=function(){var e=this,t=e.$createElement,s=e._self._c||t;return s("div",{staticClass:"main bgf7f8f9"},[s("div",{staticClass:"add-role bgfff h-con"},[s("div",{staticClass:"h222 pt44 pl68 bt-eaebef fsize14 col333"},[s("p",{staticClass:"f-pf1 cursor",on:{click:e.toBack}},[s("i",{staticClass:"el-icon-arrow-left"}),e._v("返回")]),s("p",{staticClass:"fsize24 f-pf2 mt30 pl40 fweight600"},[e._v(e._s(e.id?"编辑角色":"新增角色"))]),s("div",{staticClass:"flex mt28 pl40"},[s("p",{staticClass:"col57 mr28 f-pf1"},[e._v("角色名称")]),s("input",{directives:[{name:"model",rawName:"v-model",value:e.title,expression:"title"}],staticClass:"wid360 h40 fsize14 col333 bor-rad4 bor-c4c7cc pl20 pr20",attrs:{type:"text",placeholder:"File name File name File name File name"},domProps:{value:e.title},on:{input:function(t){t.target.composing||(e.title=t.target.value)}}})])]),s("div",{staticClass:"pl108 pr68 pt28 pb20 col333 fsize14 bt-eaebef"},[s("p",[e._v("用户组权限")]),s("ul",{staticClass:"mt66"},[s("el-checkbox-group",{model:{value:e.choosed,callback:function(t){e.choosed=t},expression:"choosed"}},e._l(e.levelList,(function(t,a){return s("li",{key:a,staticClass:"mb20"},[s("div",{staticClass:"flex cursor",on:{click:function(i){return e.open(t.open,a)}}},[s("i",{class:t.open?"el-icon-caret-bottom":"el-icon-caret-right"}),s("img",{attrs:{src:i("7aff"),alt:""}}),s("p",{staticClass:"mr20 ml16 fsize14"},[e._v(e._s(t.title))]),s("div",{staticClass:"flex-son bt-cd-dash mr20"}),s("el-checkbox",{attrs:{label:t.id},on:{change:function(t){return e.changeCheck(t,a)}}},[s("br")])],1),t.children&&t.open?s("ul",{staticClass:"pl20"},[s("el-checkbox-group",{model:{value:e.choosed,callback:function(t){e.choosed=t},expression:"choosed"}},e._l(t.children,(function(t,a){return s("li",{key:a,staticClass:"mb10"},[s("div",{staticClass:"flex cursor bl-cd pl10"},[s("i",{class:t.open?"el-icon-caret-bottom":"el-icon-caret-right"}),s("img",{attrs:{src:i("d6aa"),alt:""}}),s("p",{staticClass:"mr20 ml16 fsize14"},[e._v(e._s(t.title))]),s("div",{staticClass:"flex-son bt-cd-dash mr20"}),s("el-checkbox",{attrs:{label:t.id}},[s("br")])],1)])})),0)],1):e._e()])})),0)],1)]),s("div",{staticClass:"flex-end pt30 pr68 "},[s("div",{staticClass:"wid64 lh30 center bgcf1342 colfff bor-rad4 cursor",on:{click:e.Confirm}},[e._v("确定")])])])])},a=[],o=(i("c975"),i("a15b"),i("a434"),{components:{},data:function(){return{id:"",title:"",levelList:[],choosed:[]}},mounted:function(){var e=this.$route.query.id;e?(this.id=e,this.getEditData()):this.getRootList()},methods:{getEditData:function(){var e=this;this.$fetch({url:"admin/admin_member/group_info",data:{id:this.id}}).then((function(t){if("0000"==t.data.returnCode){var i=t.data.data.purviewList;e.title=t.data.data.info.title;for(var s=0;s<i.length;s++)if(i[s].open=!0,1==i[s].isChecked){e.choosed.push(i[s].id);var a=i[s].children;if(a.length>0)for(var o=0;o<a.length;o++)1==a[o].isChecked&&e.choosed.push(a[o].id)}e.levelList=i}else e.$message(t.data.msg)}))},getRootList:function(){var e=this;this.$fetch({url:"admin/admin_member/purview_list"}).then((function(t){if("0000"==t.data.returnCode){for(var i=t.data.data.purviewList,s=0;s<i.length;s++)i[s].open=!0;e.levelList=i}else e.$message(t.data.msg)}))},open:function(e,t){this.levelList[t].open=!e},changeCheck:function(e,t){var i=this.levelList[t].children;if(i.length>0){var s=this.choosed;if(e){for(var a=0;a<i.length;a++)-1==s.indexOf(i[a].id)&&s.push(i[a].id);this.choosed=s}else{for(var o=0;o<i.length;o++){var c=s.indexOf(i[o].id);-1!=c&&s.splice(c,1)}this.choosed=s}}},Confirm:function(){var e=this;if(this.title){var t=this.choosed.join(",");this.id?this.$fetch({url:"admin/admin_member/edit_admin_group",type:"post",data:{id:this.id,title:this.title,purview:t}}).then((function(t){"0000"==t.data.returnCode?(e.$message({type:"success",message:"编辑成功"}),e.$router.back(-1)):e.$message(t.data.msg)})):this.$fetch({url:"admin/admin_member/add_admin_group",type:"post",data:{title:this.title,purview:t}}).then((function(t){"0000"==t.data.returnCode?(e.$message({type:"success",message:"添加成功"}),e.$router.back(-1)):e.$message(t.data.msg)}))}else this.$message("请输入角色名称！")},toBack:function(){this.$router.back(-1)}}}),c=o,n=i("2877"),r=Object(n["a"])(c,s,a,!1,null,null,null);t["default"]=r.exports},"7aff":function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAACwAAAAsCAYAAAAehFoBAAAB5ElEQVRYR+2ZPS8EURSG32PdQcKGWqJRrEai2EQkoyCiUUg0ZAuVxvoFCh1/QGJVKhEKEiVZQsiGRrSWKDR6ErE7sztHZiUirOzcu3PZkXvbOee9zzw5mU9CxBZFjBeBgPlmo8Ol4gGAISBYT4giCsxYaelLL/uZgYBLt2tTHtNeiBCyUS9WIt0eGLh4m0kRY0t2lxDry1Yi3WyAQzT6NeqfGy7l12c88LZGg7Wi5QzzQ6bLdZACU6xWsvJxxhzA/T/0ywErQ0g0uvn1fQZP/l9gvhyMO89iIkZolRCjXFpmz7WEtUsjpwU/RNqwe2SfMWNYmUChkYhHxVjuRAnYydr+mbYo7KvcQkxjYvz8WBW4CMBS3l2h0QArSJNq0WSYLgjsj4vyYiAJoPJ4+HlpARbM3TSee1SmBeBk7WsAAwa42lUicoYJcLieeXjvFdVex7TMcP2sPycYYJ12/Wxj2Bj+jTudTstmhnXaNVcJ3XaN4UYyTEBRJNKVzw8fH7SdrP2nL6FOPrMDYLq6KNq0EvOzDQXMd6txkOj5DuwV0LtwT4TKU27DGA46gpEGfgIQD3qmYdRRjGwxep6Tyfow7B4NLwK8xIw2mQClWmaPmuiwufN1kpJXrkxGoN9eMoG6ayMH/AbeT9g8MzqzOwAAAABJRU5ErkJggg=="},8418:function(e,t,i){"use strict";var s=i("c04e"),a=i("9bf2"),o=i("5c6c");e.exports=function(e,t,i){var c=s(t);c in e?a.f(e,c,o(0,i)):e[c]=i}},a15b:function(e,t,i){"use strict";var s=i("23e7"),a=i("44ad"),o=i("fc6a"),c=i("a640"),n=[].join,r=a!=Object,l=c("join",",");s({target:"Array",proto:!0,forced:r||!l},{join:function(e){return n.call(o(this),void 0===e?",":e)}})},a434:function(e,t,i){"use strict";var s=i("23e7"),a=i("23cb"),o=i("a691"),c=i("50c4"),n=i("7b0b"),r=i("65f0"),l=i("8418"),d=i("1dde"),f=i("ae40"),h=d("splice"),u=f("splice",{ACCESSORS:!0,0:0,1:2}),p=Math.max,m=Math.min,g=9007199254740991,v="Maximum allowed length exceeded";s({target:"Array",proto:!0,forced:!h||!u},{splice:function(e,t){var i,s,d,f,h,u,A=n(this),b=c(A.length),C=a(e,b),x=arguments.length;if(0===x?i=s=0:1===x?(i=0,s=b-C):(i=x-2,s=m(p(o(t),0),b-C)),b+i-s>g)throw TypeError(v);for(d=r(A,s),f=0;f<s;f++)h=C+f,h in A&&l(d,f,A[h]);if(d.length=s,i<s){for(f=C;f<b-s;f++)h=f+s,u=f+i,h in A?A[u]=A[h]:delete A[u];for(f=b;f>b-s+i;f--)delete A[f-1]}else if(i>s)for(f=b-s;f>C;f--)h=f+s-1,u=f+i-1,h in A?A[u]=A[h]:delete A[u];for(f=0;f<i;f++)A[f+C]=arguments[f+2];return A.length=b-s+i,d}})},c975:function(e,t,i){"use strict";var s=i("23e7"),a=i("4d64").indexOf,o=i("a640"),c=i("ae40"),n=[].indexOf,r=!!n&&1/[1].indexOf(1,-0)<0,l=o("indexOf"),d=c("indexOf",{ACCESSORS:!0,1:0});s({target:"Array",proto:!0,forced:r||!l||!d},{indexOf:function(e){return r?n.apply(this,arguments)||0:a(this,e,arguments.length>1?arguments[1]:void 0)}})},d6aa:function(e,t){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAB4AAAAeCAYAAAA7MK6iAAABLUlEQVRIS+2Wvy8EQRiG3/fuOLGN5BRIaJUKsX+F3p7kJEJHNBq1muZCq/Art5WGf+KiETqF5BAKiShcuLNeMRrZXDYbMrPNTv197zPfM5PMEBktZsRFtuD6tcrDA9gEsQShkmChQyCojvPkv6bMxMd32oKwnjKsS6FWnWCYsr5n2Q/4Vs8AhtIGkfhQAYvzYzxM2xOvM+D9lnT5Aty/AZH+GpXcVyCichGnFQ/L25N8MuCNK+mmbQcYT/WKONub5qwBL5xL759uwCUiOpphyYDnmrIkuPcwoU/mYCcHnat2ovkbkqvOVVszkF8ua2rjwb9VPwAYcUR+DH2OmmcxaGpHwIoLMIHdhs9VA65dyOt2UJcQABi0tIE2iUZfP9YOpvia7Yfe0oSJsZlN/AUwY4MfEOmzWgAAAABJRU5ErkJggg=="}}]);
//# sourceMappingURL=chunk-55303920.bbfc8090.js.map